<!-- Sidebar wrapper starts -->
<nav id="sidebar" class="sidebar-wrapper">

    <!-- Brand container starts -->
    <div class="brand-container d-flex align-items-center justify-content-between">
        <!-- App brand starts -->
        <div class="app-brand ms-3">
            <a href="/">
                <img src="{{ url_for('static', filename='assets/images/logo.svg') }}" class="logo"
                     alt="Hospital Management System">
            </a>
        </div>
        <!-- App brand ends -->

        <!-- Pin sidebar starts -->
        <button type="button" class="pin-sidebar me-3">
            <i class="ri-menu-line"></i>
        </button>
        <!-- Pin sidebar ends -->
    </div>
    <!-- Brand container ends -->

    <!-- Sidebar profile starts -->
    <div class="sidebar-profile">
        <img src="{{ url_for('static', filename='assets/images/doctor5.png') }}"
             class="rounded-5 border border-primary border-3"
             alt="User Profile">
        <h6 class="mb-1 profile-name text-nowrap text-truncate text-primary">{{ session.get('name', 'User') }}</h6>
        <small class="profile-name text-nowrap text-truncate">{{ session.get('role', 'Role') | capitalize }}</small>
    </div>
    <!-- Sidebar profile ends -->

    <!-- Sidebar menu starts -->
    <div class="sidebarMenuScroll">
        <ul class="sidebar-menu">
            {% if session['role'] == 'PATIENT' %}
                <li class="{% if request.path == '/patient/dashboard' %}active current-page{% endif %}">
                    <a href="/patient/dashboard">
                        <i class="ri-home-6-line"></i>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="treeview {% if request.path.startswith('/patient/appointment') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-drop-line"></i>
                        <span class="menu-text">Appointment</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/patient/appointment/view-appointment"
                               class="{% if request.path == '/patient/appointment/view-appointment' %}active-sub{% endif %}">View
                                Appointment</a>
                        </li>
                        <li>
                            <a href="/patient/appointment/book-appointment"
                               class="{% if request.path == '/patient/appointment/book-appointment' %}active-sub{% endif %}">
                                <span class="menu-text">Book Appointment</span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="{% if request.path == '/patients/upload-patient-reports' or request.path.startswith('/patients/reports') %}active current-page{% endif %}">
                    <a href="/patients/upload-patient-reports">
                        <i class="ri-file-text-line"></i>
                        <span class="menu-text">View Reports</span>
                    </a>
                </li>
                <li class="{% if request.path == '/chat/chat' %}active current-page{% endif %}">
                    <a href="/chat/chat">
                        <i class="ri-chat-1-line"></i>
                        <span class="menu-text">Chat</span>
                    </a>
                </li>
                <li class="{% if request.path == '/patient/pharmacy/sales' %}active current-page{% endif %}">
                    <a href="/patient/pharmacy/sales">
                        <i class="ri-user-line"></i>
                        <span class="menu-text">Sales Records</span>
                    </a>
                </li>
                <li class="{% if request.path == '/patients/get-visitors' %}active current-page{% endif %}">
                    <a href="/patients/get-visitors">
                        <i class="ri-user-line"></i>
                        <span class="menu-text">Visitors</span>
                    </a>
                </li>
                <li class="{% if request.path == '/patient/prescriptions/view-prescriptions' %}active current-page{% endif %}">
                    <a href="/patient/prescriptions/view-prescriptions">
                        <i class="ri-scissors-line"></i>
                        <span class="menu-text">Prescriptions</span>
                    </a>
                </li>
                <li class="{% if request.path == '/patients/get-profile' or request.path.startswith('/patients/profile') %}active current-page{% endif %}">
                    <a href="/patients/get-profile">
                        <i class="ri-user-settings-line"></i>
                        <span class="menu-text">Profile</span>
                    </a>
                </li>

            {% elif session['role'] == 'ADMIN' %}
                <li class="{% if request.path == '/admin/dashboard' %}active current-page{% endif %}">
                    <a href="/admin/dashboard">
                        <i class="ri-home-6-line"></i>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="{% if request.path == '/admin/search' %}active current-page{% endif %}">
                    <a href="/admin/search">
                        <i class="ri-search-line"></i>
                        <span class="menu-text">User Search</span>
                    </a>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/department') or request.path.startswith('/admin/department') or request.path.startswith('/admin/edit-department') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-building-2-line"></i>
                        <span class="menu-text">Departments</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/department/department-list"
                               class="{% if request.path == '/admin/department/department-list' %}active-sub{% endif %}">Departments
                                List</a>
                        </li>
                        <li>
                            <a href="/admin/department/add-department"
                               class="{% if request.path == '/admin/department/add-department' %}active-sub{% endif %}">Add
                                Department</a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/doctor') or request.path.startswith('/admin/doctor') or request.path.startswith('/admin/edit-department') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-building-2-line"></i>
                        <span class="menu-text">Doctors</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/doctor/doctor-list"
                               class="{% if request.path == '/admin/doctor/doctor-list' %}active-sub{% endif %}">All
                                Doctors</a>
                        </li>
                        <li>
                            <a href="/admin/doctor/add-doctor"
                               class="{% if request.path == '/admin/doctor/add-doctor' %}active-sub{% endif %}">Add
                                Doctors</a>
                        </li>
                        <li>
                            <a href="/admin/doctor/assign-department"
                               class="{% if request.path == '/admin/doctor/assign-department' %}active-sub{% endif %}">Assign
                                Department</a>
                        </li>
                        <li>
                            <a href="/admin/doctor/shift-management"
                               class="{% if request.path == '/admin/doctor/shift-management' %}active-sub{% endif %}">Shift
                                Management</a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/room') %}active menu-open{% endif %}">
                    <a href="/admin/room"> {# Make the top-level link functional for the main room list #}
                        <i class="ri-hotel-bed-line"></i>
                        <span class="menu-text">Rooms Management</span>
                        {# Consider adding an arrow icon if your theme supports it, e.g., <i class="ri-arrow-right-s-line pull-right"></i> #}
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/room/room-statistics"
                               class="{% if request.path == '/admin/room/room-statistics' %}active-sub{% endif %}">
                                <i class="ri-bar-chart-box-line menu-icon"></i> Room Statistics
                            </a>
                        </li>
                        <li>
                            <a href="/admin/room/available-room"
                               class="{% if request.path == '/admin/room/available-room' %}active-sub{% endif %}">
                                <i class="ri-check-circle-line menu-icon"></i> Available Rooms
                            </a>
                        </li>
                        <li>
                            <a href="/admin/room/rooms-allotted"
                               class="{% if request.path == '/admin/room/rooms-allotted' %}active-sub{% endif %}">
                                <i class="ri-user-shared-line menu-icon"></i> Allotted Rooms
                            </a>
                        </li>
                        <li>
                            <a href="/admin/room/rooms-by-dept"
                               class="{% if request.path == '/admin/room/rooms-by-dept' %}active-sub{% endif %}">
                                <i class="ri-building-line menu-icon"></i> Rooms By Department
                            </a>
                        </li>
                        <li class="{% if request.path == '/admin/room' %}active-sub{% endif %}">
                            {# Highlight Room List when on its page #}
                            <a href="/admin/room">
                                <i class="ri-list-check-2 menu-icon"></i> All Rooms List
                            </a>
                        </li>
                        <li>
                            <a href="/admin/room/cleaning-logs"
                               class="{% if request.path == '/admin/room/cleaning-logs' %}active-sub{% endif %}">
                                <i class="ri-broom-line menu-icon"></i> Cleaning Logs
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/ambulances') or request.path.startswith('/admin/drivers') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-car-washing-line"></i>
                        <span class="menu-text">Ambulance Management</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/ambulances/categories"
                               class="{% if request.path == '/admin/ambulances/categories' %}active-sub{% endif %}">Charge
                                Categories</a>
                        </li>
                        <li>
                            <a href="/admin/ambulances/items"
                               class="{% if request.path == '/admin/ambulances/items' %}active-sub{% endif %}">Charge
                                Items</a>
                        </li>
                        <li>
                            <a href="/admin/ambulances/drivers"
                               class="{% if request.path == '/admin/ambulances/drivers' %}active-sub{% endif %}">Drivers</a>
                        </li>
                        <li>
                            <a href="/admin/ambulances"
                               class="{% if request.path == '/admin/ambulances' %}active-sub{% endif %}">Ambulances</a>
                        </li>
                        <li>
                            <a href="/admin/ambulances/calls"
                               class="{% if request.path == '/admin/ambulances/calls' %}active-sub{% endif %}">Ambulance
                                Calls</a>
                        </li>

                        {# Reporting (Optional but good to plan for) #}
                        <li class="treeview {% if request.path.startswith('/admin/ambulances/reports') %}active current-page{% endif %}">
                            <a href="#!">
                                <i class="ri-bar-chart-box-line"></i>
                                <span class="menu-text">Ambulances Reports</span>
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu">
                                <li><a href="/admin/ambulances/reports/performance"
                                       class="{% if request.path == '/admin/ambulances/reports/performance' %}active-sub{% endif %}">Performance
                                    Report</a></li>
                                <li><a href="/admin/ambulances/reports/financial-summary"
                                       class="{% if request.path == '/admin/ambulances/reports/financial-summary' %}active-sub{% endif %}">Financial
                                    Summary Report</a></li>
                                <li><a href="/admin/ambulances/reports/service-utilization"
                                       class="{% if request.path == '/admin/ambulances/reports/service-utilization' %}active-sub{% endif %}">Service
                                    Utilization Report</a></li>
                                {# Add more ambulance-specific reports here as needed #}
                            </ul>
                        </li>
                    </ul>
                </li>
                <!-- Add this after the Human Resources menu item in the admin section -->
                <li class="treeview {% if request.path.startswith('/admin/blood-bank') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-drop-line"></i>
                        <span class="menu-text">Blood Bank</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/blood-bank/stock"
                               class="{% if request.path == '/admin/blood-bank/stock' %}active-sub{% endif %}">Blood
                                Stock</a>
                        </li>
                        <li>
                            <a href="/admin/blood-bank/donor"
                               class="{% if request.path == '/admin/blood-bank/donor' %}active-sub{% endif %}">Blood
                                Donor</a>
                        </li>
                        <li>
                            <a href="/admin/blood-bank/issued"
                               class="{% if request.path == '/admin/blood-bank/issued' %}active-sub{% endif %}">Blood
                                Issued</a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/appointments') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-drop-line"></i>
                        <span class="menu-text">Appointment</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/appointments"
                               class="{% if request.path == '/admin/appointments' %}active-sub{% endif %}">Appointment</a>
                        </li>
                        <li>
                            <a href="/admin/appointment/book-appointment"
                               class="{% if request.path == '/admin/appointment/book-appointment' %}active-sub{% endif %}">Book
                                Appointment</a>
                        </li>
                    </ul>
                </li>

                <li class="treeview {% if request.path.startswith('/admin/inventory') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-shopping-bag-line"></i>
                        <span class="menu-text">Inventory</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/inventory/item_stocks"
                               class="{% if request.path == '/admin/inventory/item_stocks' %}active-sub{% endif %}">
                                Item Stock List
                            </a>
                        </li>
                        <li>
                            <a href="/admin/inventory/issued"
                               class="{% if request.path == '/admin/inventory/issued' %}active-sub{% endif %}">
                                Issued Items
                            </a>
                        </li>
                        <li>
                            <a href="/admin/inventory/categories"
                               class="{% if request.path == '/admin/inventory/categories' %}active-sub{% endif %}">
                                Item Categories
                            </a>
                        </li>
                        <li>
                            <a href="/admin/inventory/stores"
                               class="{% if request.path == '/admin/inventory/stores' %}active-sub{% endif %}">
                                Item Stores
                            </a>
                        </li>
                        <li>
                            <a href="/admin/inventory/suppliers"
                               class="{% if request.path == '/admin/inventory/suppliers' %}active-sub{% endif %}">
                                Item Suppliers
                            </a>
                        </li>
                        <li>
                            <a href="/admin/inventory/items"
                               class="{% if request.path == '/admin/inventory/items' %}active-sub{% endif %}">
                                Items
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="treeview {% if request.path.startswith('/admin/records') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-folders-line"></i> {# Icon for a collection of folders #}
                        <span class="menu-text">Manage Records</span> {# Action-oriented top-level #}
                    </a>
                    <ul class="treeview-menu">
                        {# Patient & Clinical Records #}
                        <li class="treeview {% if request.path.startswith('/admin/records/clinical') %}active current-page{% endif %}">
                            <a href="#!">
                                <i class="ri-user-line"></i>
                                <span class="menu-text">Patient Records</span>
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu">
                                <li>
                                    <a href="/admin/records/clinical/patients"
                                       class="{% if request.path == '/admin/records/clinical/patients' %}active-sub{% endif %}">
                                        <i class="ri-user-search-line"></i> Patient Demographics
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/records/clinical/medical"
                                       class="{% if request.path == '/admin/records/clinical/medical' %}active-sub{% endif %}">
                                        <i class="ri-health-book-line"></i> Medical History
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/records/birth" {# Re-categorized birth #}
                                       class="{% if request.path == '/admin/records/birth' %}active-sub{% endif %}">
                                        <i class="ri-baby-line"></i> Birth Records
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/records/death" {# Re-categorized death #}
                                       class="{% if request.path == '/admin/records/death' %}active-sub{% endif %}">
                                        <i class="ri-cross-line"></i> Death Records
                                    </a>
                                </li>
                            </ul>
                        </li>

                        {# Administrative & Operational Records #}
                        <li class="treeview {% if request.path.startswith('/admin/records/admin') %}active current-page{% endif %}">
                            <a href="#!">
                                <i class="ri-building-line"></i>
                                <span class="menu-text">Administrative</span>
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu">
                                <li>
                                    <a href="/admin/records/admin/staff"
                                       class="{% if request.path == '/admin/records/admin/staff' %}active-sub{% endif %}">
                                        <i class="ri-group-line"></i> Staff Records
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/records/admin/billing"
                                       class="{% if request.path == '/admin/records/admin/billing' %}active-sub{% endif %}">
                                        <i class="ri-receipt-line"></i> Billing Records
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/records/admin/incidents"
                                       class="{% if request.path == '/admin/records/admin/incidents' %}active-sub{% endif %}">
                                        <i class="ri-alert-line"></i> Incident Reports
                                    </a>
                                </li>
                            </ul>
                        </li>

                        {# Reports/Analytics (if records are tied to reporting) #}
                        <li class="treeview {% if request.path.startswith('/admin/records/reports') %}active current-page{% endif %}">
                            <a href="#!">
                                <i class="ri-bar-chart-box-line"></i>
                                <span class="menu-text">Record Reports</span>
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu">
                                <li>
                                    <a href="/admin/records/reports/demographic-summary"
                                       class="{% if request.path == '/admin/records/reports/demographic-summary' %}active-sub{% endif %}">
                                        <i class="ri-pie-chart-line"></i> Demographic Summary
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>

                <li class="treeview {% if request.path.startswith('/admin/insurance') %}active menu-open{% endif %}">
                    <a href="/admin/insurance/patient">
                        {# Direct top-level link to the most frequently accessed/central item #}
                        <i class="ri-shield-check-line"></i>
                        <span class="menu-text">Insurance Management</span> {# More descriptive top-level label #}
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/insurance/patient"
                               class="{% if request.path == '/admin/insurance/patient' %}active-sub{% endif %}">
                                <i class="ri-user-line menu-icon"></i> Patient Insurance
                            </a>
                        </li>
                        <li>
                            <a href="/admin/insurance/claim-status"
                               class="{% if request.path == '/admin/insurance/claim-status' %}active-sub{% endif %}">
                                <i class="ri-file-list-line menu-icon"></i> Claim Status
                            </a>
                        </li>
                        <li>
                            <a href="/admin/insurance/provider"
                               class="{% if request.path == '/admin/insurance/provider' %}active-sub{% endif %}">
                                <i class="ri-bank-line menu-icon"></i> Insurance Providers
                            </a>
                        </li>
                        <li>
                            <a href="/admin/insurance/coverage-types"
                               class="{% if request.path == '/admin/insurance/coverage-types' %}active-sub{% endif %}">
                                <i class="ri-folder-info-line menu-icon"></i> Coverage Types
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/pharmacy') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-medicine-bottle-line"></i>
                        <span class="menu-text">Pharmacy Management</span>
                    </a>
                    <ul class="treeview-menu">

                        {# Sales & Returns - Grouped for common workflow #}
                        <li class="treeview {% if request.path.startswith('/admin/pharmacy/sales') %}active current-page{% endif %}">
                            <a href="#!">
                                <i class="ri-shopping-bag-line"></i>
                                <span class="menu-text">Sales & Billing</span>
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu">
                                <li>
                                    <a href="/admin/pharmacy/sales/new"
                                       class="{% if request.path == '/admin/pharmacy/sales/new' %}active-sub{% endif %}">
                                        <i class="ri-add-circle-line"></i> New Sale
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/sales"
                                            {# Keeping your original sales list route for now #}
                                       class="{% if request.path == '/admin/pharmacy/sales' %}active-sub{% endif %}">
                                        <i class="ri-file-list-line"></i> Sales History
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/sales/returns"
                                            {# Assuming a dedicated sales return list/workflow #}
                                       class="{% if request.path == '/admin/pharmacy/sales/returns' %}active-sub{% endif %}">
                                        <i class="ri-arrow-go-back-line"></i> Sales Returns
                                    </a>
                                </li>
                            </ul>
                        </li>

                        {# Inventory/Stock Management - Crucial and often accessed #}
                        <li class="treeview {% if request.path.startswith('/admin/pharmacy/inventory') or request.path.startswith('/admin/pharmacy/levels-stock') or request.path.startswith('/admin/pharmacy/medicine-purchases') %}active current-page{% endif %}">
                            <a href="#!">
                                <i class="ri-stack-line"></i>
                                <span class="menu-text">Inventory & Stock</span>
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu">
                                <li>
                                    <a href="/admin/pharmacy/inventory/medicines" {# Renamed from medicine-list for clarity #}
                                       class="{% if request.path == '/admin/pharmacy/inventory/medicines' %}active-sub{% endif %}">
                                        <i class="ri-pill-line"></i> All Medicines
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/inventory/stock-levels"
                                       class="{% if request.path == '/admin/pharmacy/inventory/stock-levels' %}active-sub{% endif %}">
                                        <i class="ri-line-chart-line"></i> Stock Levels
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/inventory/batches"
                                            {# New: Link to manage medicine batches #}
                                       class="{% if request.path == '/admin/pharmacy/inventory/batches' %}active-sub{% endif %}">
                                        <i class="ri-folder-open-line"></i> Medicine Batches
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/inventory/purchases"
                                       class="{% if request.path == '/admin/pharmacy/inventory/purchases' %}active-sub{% endif %}">
                                        <i class="ri-truck-line"></i> Purchases
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/stock-adjustments" {# New: For stock adjustments #}
                                       class="{% if request.path == '/admin/pharmacy/stock-adjustments' %}active-sub{% endif %}">
                                        <i class="ri-swap-box-line"></i> Stock Adjustments
                                    </a>
                                </li>
                            </ul>
                        </li>

                        {# Master Data / Configuration - Grouped #}
                        <li class="treeview {% if request.path.startswith('/admin/pharmacy/master-data') or request.path.startswith('/admin/pharmacy/medicine-companies') or request.path.startswith('/admin/pharmacy/suppliers') %}active current-page{% endif %}">
                            <a href="#!">
                                <i class="ri-settings-3-line"></i>
                                <span class="menu-text">Master Data</span>
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu">
                                <li>
                                    <a href="/admin/pharmacy/master-data/categories"
                                       class="{% if request.path == '/admin/pharmacy/master-data/categories' %}active-sub{% endif %}">
                                        <i class="ri-folder-info-line"></i> Categories
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/master-data/companies"
                                       class="{% if request.path == '/admin/pharmacy/master-data/companies' %}active-sub{% endif %}">
                                        <i class="ri-building-line"></i> Companies
                                    </a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/master-data/suppliers"
                                       class="{% if request.path == '/admin/pharmacy/master-data/suppliers' %}active-sub{% endif %}">
                                        <i class="ri-user-2-line"></i> Suppliers
                                    </a>
                                </li>
                                {# Add more master data if applicable, e.g., Dosage Forms, Units #}
                            </ul>
                        </li>

                        {# Reporting (Optional but good to plan for) #}
                        <li class="treeview {% if request.path.startswith('/admin/pharmacy/reports') %}active current-page{% endif %}">
                            <a href="#!">
                                <i class="ri-bar-chart-box-line"></i>
                                <span class="menu-text">Reports</span>
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu">
                                <li><a href="/admin/pharmacy/reports/sales-summary"
                                       class="{% if request.path == '/admin/pharmacy/reports/sales-summary' %}active-sub{% endif %}">Sales
                                    Summary</a></li>
                                <li><a href="/admin/pharmacy/reports/stock-movement"
                                       class="{% if request.path == '/admin/pharmacy/reports/stock-movement' %}active-sub{% endif %}">Stock
                                    Movement</a></li>
                                {# More reports #}
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/staff') or request.path.startswith('/admin/add-staff') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-scissors-line"></i>
                        <span class="menu-text">Operations Management</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="#!">
                                Operation Resources
                                <i class="ri-arrow-right-s-line"></i>
                            </a>
                            <ul class="treeview-menu {% if request.path.startswith('/admin/pharmacy/medicine-categories') %}active current-page{% endif %}">
                                <li>
                                    <a href="/admin/pharmacy/medicine-categories"
                                       class="{% if request.path == '/admin/pharmacy/medicine-categories' %}active-sub{% endif %}">Operation
                                        Rooms</a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/medicine-companies"
                                       class="{% if request.path == '/admin/pharmacy/medicine-companies' %}active-sub{% endif %}">Surgical
                                        Teams</a>
                                </li>
                                <li>
                                    <a href="/admin/pharmacy/medicine-companies"
                                       class="{% if request.path == '/admin/pharmacy/medicine-companies' %}active-sub{% endif %}">Equipment
                                        Inventory</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="/admin/add-staff"
                               class="{% if request.path == '/admin/add-staff' %}active-sub{% endif %}">Outcomes &
                                Reports</a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/view-staff') or request.path.startswith('/admin/add-staff') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-nurse-line"></i>
                        <span class="menu-text">Staff</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/staff"
                               class="{% if request.path == '/admin/staff' %}active-sub{% endif %}">Staff List</a>
                        </li>
                    </ul>
                </li>
                <!-- Patient Management -->
                <li class="treeview {% if request.path.startswith('/admin/patients') %}active current-page{% endif %}">
                    <a href="#">
                        <i class="ri-user-heart-line"></i>
                        <span class="menu-text">Patient Management</span>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="/admin/patients/all"><i class="ri-user-line"></i> All Patients</a></li>
                        <li><a href="/admin/patients/opd"><i class="ri-stethoscope-line"></i> OPD Patients</a></li>
                        <li><a href="/admin/patients/ipd"><i class="ri-hospital-line"></i> IPD Patients</a></li>
                        <li><a href="/admin/patients/registration"><i class="ri-user-add-line"></i> New Registration</a>
                        </li>
                        <li><a href="/admin/patients/documents"><i class="ri-file-text-line"></i> Patient Documents</a>
                        </li>
                    </ul>
                </li>

                <li class="{% if request.path == '/admin/leave/applications' %}active current-page{% endif %}">
                    <a href="/admin/leave/applications">
                        <i class="ri-calendar-todo-line"></i>
                        <span class="menu-text">Leave Applications</span>
                    </a>
                </li>
                <!-- Financial Management -->
                <li class="treeview {% if request.path.startswith('/admin/finance') %}active current-page{% endif %}">
                    <a href="#">
                        <i class="ri-money-dollar-circle-line"></i>
                        <span class="menu-text">Financial Management</span>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="/admin/finance/billing"><i class="ri-bill-line"></i> Billing</a></li>
                        <li><a href="/admin/finance/invoices"><i class="ri-file-list-line"></i> Invoices</a></li>
                        <li><a href="/admin/finance/payments"><i class="ri-wallet-line"></i> Payments</a></li>
                        <li><a href="/admin/finance/expenses"><i class="ri-money-cny-circle-line"></i> Expenses</a></li>
                        <li><a href="/admin/finance/insurance"><i class="ri-shield-check-line"></i> Insurance/TPA</a>
                        </li>
                        <li><a href="/admin/finance/reports"><i class="ri-bar-chart-box-line"></i> Financial Reports</a>
                        </li>
                    </ul>
                </li>

                <!-- Reports & Analytics -->
                <li class="treeview {% if request.path.startswith('/admin/reports') %}active current-page{% endif %}">
                    <a href="#">
                        <i class="ri-bar-chart-2-line"></i>
                        <span class="menu-text">Reports & Analytics</span>
                    </a>
                    <ul class="treeview-menu">
                        <li><a href="/admin/reports/clinical"><i class="ri-heart-pulse-line"></i> Clinical Reports</a>
                        </li>
                        <li><a href="/admin/reports/financial"><i class="ri-money-dollar-circle-line"></i> Financial
                            Reports</a>
                        </li>
                        <li><a href="/admin/reports/inventory"><i class="ri-store-line"></i> Inventory Reports</a></li>
                        <li><a href="/admin/reports/staff"><i class="ri-team-line"></i> Staff Reports</a></li>
                        <li><a href="/admin/reports/custom"><i class="ri-file-chart-line"></i> Custom Reports</a></li>
                    </ul>
                </li>

            {% elif session['role'] == 'DOCTOR' %}
                <li class="{% if request.path == '/doctor/dashboard' %}active current-page{% endif %}">
                    <a href="/doctor/dashboard">
                        <i class="ri-home-6-line"></i>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="treeview {% if request.path.startswith('/doctor/appointment') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-shopping-bag-line"></i>
                        <span class="menu-text">Appointment</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/doctor/appointment"
                               class="{% if request.path == '/doctor/appointment' %}active-sub{% endif %}">Appointment
                                Calendar</a>
                        </li>
                        <li>
                            <a href="/doctor/view-appointment"
                               class="{% if request.path == '/doctor/view-appointment' %}active-sub{% endif %}">View
                                Appointment</a>
                        </li>
                    </ul>
                </li>
                <li class="{% if request.path == '/admin/search' %}active current-page{% endif %}">
                    <a href="/admin/search">
                        <i class="ri-search-line"></i>
                        <span class="menu-text">User Search</span>
                    </a>
                </li>
                <li class="{% if request.path == '/doctor/get-all-appointments' %}active current-page{% endif %}">
                    <a href="/doctor/get-all-appointments">
                        <i class="ri-calendar-check-line"></i>
                        <span class="menu-text">Today's Appointments</span>
                    </a>
                </li>
                <li class="{% if request.path == '/doctor/get-all-booked-appointments' %}active current-page{% endif %}">
                    <a href="/doctor/get-all-booked-appointments">
                        <i class="ri-calendar-line"></i>
                        <span class="menu-text">All Appointments</span>
                    </a>
                </li>
                <li class="{% if request.path == '/doctor/get-referring-appointments' %}active current-page{% endif %}">
                    <a href="/doctor/get-referring-appointments">
                        <i class="ri-share-forward-line"></i>
                        <span class="menu-text">Referred Appointments</span>
                    </a>
                </li>
                <li class="{% if request.path == '/doctor/get-forward-appointment' %}active current-page{% endif %}">
                    <a href="/doctor/get-forward-appointment">
                        <i class="ri-send-plane-line"></i>
                        <span class="menu-text">Forwarded Appointments</span>
                    </a>
                </li>
                <li class="{% if request.path == '/doctor/get-all-operation-request' %}active current-page{% endif %}">
                    <a href="/doctor/get-all-operation-request">
                        <i class="ri-scissors-line"></i>
                        <span class="menu-text">Operation Requests</span>
                    </a>
                </li>
                <li class="{% if request.path == '/doctor/get-teams' %}active current-page{% endif %}">
                    <a href="/doctor/get-teams">
                        <i class="ri-team-line"></i>
                        <span class="menu-text">Team Creation</span>
                    </a>
                </li>
                <li class="{% if request.path == '/chat/chat' %}active current-page{% endif %}">
                    <a href="/chat/chat">
                        <i class="ri-chat-1-line"></i>
                        <span class="menu-text">Chat</span>
                    </a>
                </li>
                <li class="{% if request.path == '/admin/staff/leave/apply' %}active current-page{% endif %}">
                    <a href="/admin/staff/leave/apply">
                        <i class="ri-calendar-todo-line"></i>
                        <span class="menu-text">Apply Leave</span>
                    </a>
                </li>

            {% elif session['role'] == 'LABORATORY' %}
                <li class="{% if request.path == '/doctor/dashboard' %}active current-page{% endif %}">
                    <a href="/laboratory/dashboard">
                        <i class="ri-home-6-line"></i>
                        <span class="menu-text">Dashboard</span>
                    </a>
                </li>
                <li class="treeview {% if request.path.startswith('/laboratory/laboratory-reports') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-shopping-bag-line"></i>
                        <span class="menu-text">Test Reports</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/laboratory/laboratory-report"
                               class="{% if request.path == '/laboratory/laboratory-reports' %}active-sub{% endif %}">Test
                                Reports</a>
                        </li>

                    </ul>
                </li>
                <li class="{% if request.path == '/admin/search' %}active current-page{% endif %}">
                    <a href="/admin/search">
                        <i class="ri-search-line"></i>
                        <span class="menu-text">User Search</span>
                    </a>
                </li>
                <li class="{% if request.path == '/laboratory/prescriptions-pending-test-reports' %}active current-page{% endif %}">
                    <a href="/laboratory/prescriptions-pending-test-reports">
                        <i class="ri-flask-line"></i>
                        <span class="menu-text">Laboratory</span>
                    </a>
                </li>

            {% elif session['role'] == 'DEPARTMENT_HEAD' %}
                <li class="treeview {% if request.path.startswith('/admin/inventory') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-shopping-bag-line"></i>
                        <span class="menu-text">Inventory</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/inventory/item-stock-list"
                               class="{% if request.path == '/admin/inventory/item-stock-list' %}active-sub{% endif %}">Item
                                Stock
                                List</a>
                        </li>
                        <li>
                            <a href="/admin/inventory/issued-item"
                               class="{% if request.path == '/admin/inventory/issued-item' %}active-sub{% endif %}">Issued
                                Items</a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/doctor') or request.path.startswith('/admin/doctor') or request.path.startswith('/admin/edit-department') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-building-2-line"></i>
                        <span class="menu-text">Doctors</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/doctor/doctor-list"
                               class="{% if request.path == '/admin/doctor/doctor-list' %}active-sub{% endif %}">All
                                Doctors</a>
                        </li>
                        <li>
                            <a href="/admin/doctor/add-doctor"
                               class="{% if request.path == '/admin/doctor/add-doctor' %}active-sub{% endif %}">Add
                                Doctors</a>
                        </li>
                        <li>
                            <a href="/admin/doctor/assign-department"
                               class="{% if request.path == '/admin/doctor/assign-department' %}active-sub{% endif %}">Assign
                                Department</a>
                        </li>
                        <li>
                            <a href="/admin/doctor/shift-management"
                               class="{% if request.path == '/admin/doctor/shift-management' %}active-sub{% endif %}">Shift
                                Management</a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/room') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-hotel-bed-line"></i>
                        <span class="menu-text">Rooms</span>

                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/room/room-statistics"
                               class="{% if request.path == '/admin/room/room-statistics' %}active-sub{% endif %}">Statistics</a>
                        </li>
                        <li>
                            <a href="/admin/room/rooms-allotted"
                               class="{% if request.path == '/admin/room/rooms-allotted' %}active-sub{% endif %}">Rooms
                                Allotted</a>
                        </li>
                        <li>
                            <a href="/admin/room/rooms-by-dept"
                               class="{% if request.path == '/admin/room/rooms-by-dept' %}active-sub{% endif %}">Rooms
                                By Department</a>
                        </li>
                        <li>
                            <a href="/admin/room/available-room"
                               class="{% if request.path == '/admin/room/available-room' %}active-sub{% endif %}">Available
                                Rooms</a>
                        </li>
                        <li>
                            <a href="/admin/room"
                               class="{% if request.path == '/admin/room' %}active-sub{% endif %}">Room List</a>
                        </li>
                        <li>
                            <a href="/admin/room/cleaning-logs"
                               class="{% if request.path == '/admin/room/cleaning-logs' %}active-sub{% endif %}">Cleaning
                                Logs</a>
                        </li>
                    </ul>
                </li>
                <li class="treeview {% if request.path.startswith('/admin/blood-bank') %}active current-page{% endif %}">
                    <a href="#!">
                        <i class="ri-drop-line"></i>
                        <span class="menu-text">Blood Bank</span>
                    </a>
                    <ul class="treeview-menu">
                        <li>
                            <a href="/admin/blood-bank/stock"
                               class="{% if request.path == '/admin/blood-bank/stock' %}active-sub{% endif %}">Blood
                                Stock</a>
                        </li>
                        <li>
                            <a href="/admin/blood-bank/donor"
                               class="{% if request.path == '/admin/blood-bank/donor' %}active-sub{% endif %}">Blood
                                Donor</a>
                        </li>
                        <li>
                            <a href="/admin/blood-bank/issued"
                               class="{% if request.path == '/admin/blood-bank/issued' %}active-sub{% endif %}">Blood
                                Issued</a>
                        </li>
                    </ul>
                </li>

            {% endif %}

            <!-- Common Logout for all roles -->
            <li>
                <a href="/logout">
                    <i class="ri-logout-box-r-line"></i>
                    <span class="menu-text">Logout</span>
                </a>
            </li>
        </ul>
    </div>
    <!-- Sidebar menu ends -->

    <!-- Sidebar contact starts -->
    <div class="sidebar-contact">
        <p class="fw-light mb-1 text-nowrap text-truncate">Emergency Contact</p>
        <h5 class="m-0 lh-1 text-nowrap text-truncate">0987654321</h5>
        <i class="ri-phone-line"></i>
    </div>
    <!-- Sidebar contact ends -->

</nav>
<!-- Sidebar wrapper ends -->